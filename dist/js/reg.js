"use strict";window.onload=function(){var l=getid("phone"),a=getid("phonemsg_div"),i=getid("phonemsg_img"),t=getid("varify_msg_div");a.style.display="none";var s=getid("nickname"),n=getid("regvairfy"),o=getid("yzm"),r=getid("passwordr"),d=getid("nickname_img"),c=getid("nickname_msg_div"),g=getid("nickname_msg"),p=getid("password_msg_div"),y=getid("password_img"),u=!1,m=!1,v=!1,k=!1,b=!1;l.onblur=function(){var e=l.value.trim();e&&checkReg.tel(e)?$.ajax({type:"post",data:{username:e,APItype:"uname"},url:"../api/users.php",success:function(e){1==e?(i.style.display="block",u=!0):(a.style.display="block",$("#phonemsg").html('<span class="c666 ft14">该手机号已存在，</span>\n            <a id="exitclick" href="/login.html" target="_blank" class="ft14 Logon">登录</a>'))}}):a.style.display="block"},o.value=randomCode(),o.style.textAlign="center",o.style.color="#fff",o.style.backgroundColor=randomColor(16),o.onclick=function(){o.value=randomCode()};var f=getid("varify_img");n.onblur=function(){var e=n.value.toLowerCase(),a=o.value.toLowerCase();e?e==a?(f.style.display="block",m=!0):(t.style.display="block",t.innerHTML="请输入6位验证码"):t.style.display="block"},s.onblur=function(){var e=s.value.trim();e&&checkReg.name(e)?(d.style.display="block",v=!0):(c.style.display="block",g.innerHTML="请输入6-20位用户名")},r.onblur=function(){var e=r.value.trim();e&&checkReg.name(e)?(y.style.display="block",k=!0):p.style.display="block"};var h=getid("passwordag"),_=getid("passwordag_img"),w=getid("passwordag_msg_div"),C=getid("registerbtn");h.onblur=function(){var e=h.value.trim();e?r.value==e?(_.style.display="block",b=!0,u&&m&&v&&k&&b&&(C.style.backgroundColor="#58bc58")):(w.style.display="block",w.innerHTML="两次密码密码不正确"):w.style.display="block"},C.onclick=function(){var e=l.value.trim(),a=s.value.trim(),i=r.value.trim();$.ajax({type:"post",data:{phone:e,password:i,username:a,APItype:"reg"},url:"../api/users.php",success:function(e){C.innerHTML="注册成功",location.href="../html/login.html"}})}};